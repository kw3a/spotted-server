{{block "preamble" .}}
<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="/static/htmx.min.js"></script>
  <link href="/static/output.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
  <script src="/static/head-support.js"></script>
  <title></title>
</head>

<body class="bg-shark-950" hx-ext="head-support">
  {{template "navBar" .User}}
  <div class="flex justify-center text-shark-200">
    <section class="sm:w-full xl:w-3/4">
      <strong class="text-center font-semibold text-2xl">{{.Offer.Title}}</strong>
      <div class="flex flex-row py-4 gap-2">
        <div class="w-3/4 flex flex-col gap-2">
          <div class="flex flex-row text-shark-100">
            <div class="w-1/2">
              <span class="hover:underline hover:underline-offset-1 hover:cursor-pointer"
                hx-get="/companies/{{.Offer.CompanyID}}" hx-boost="true" hx-push-url="true" hx-target="body">
                {{.Offer.CompanyName}}
              </span>
            </div>
            <p class="w-1/2">
              {{.Offer.MinWage}} - {{.Offer.MaxWage}}
              <span class="font-semibold text-xl">$</span>
            </p>
          </div>
          <span class="font-semibold block">Sobre el puesto</span>
          <pre class="whitespace-pre-wrap text-shark-200 text-sm">{{.Offer.About}}</pre>
          <span class="font-semibold block">Requisitos</span>
          <pre class="whitespace-pre-wrap text-shark-200 text-sm">{{.Offer.Requirements}}</pre>
          <span class="font-semibold block">Beneficios</span>
          <pre class="whitespace-pre-wrap text-shark-200 text-sm">{{.Offer.Benefits}}</pre>
        </div>
        <div class="w-1/4">
          <div class="flex flex-col gap-2 justify-around bg-shark-900 rounded p-4">
            <p class="text-center text-xl">Prueba</p>
            <p class="flex items-center text-shark-200 gap-2">
              <img class="inline" src="/public/clock.svg" width="20" height="20" alt="clock icon" />
              {{.Quiz.Duration}} minutos
            </p>
            <div class="flex flex-wrap gap-2 overflow-x-auto max-w-full">
              {{range .Languages}}
              <span class="rounded border border-shark-200 text-shark-200 px-2">{{.DisplayName}}</span>
              {{end}}
            </div>

            {{template "participationInfo" .}}
          </div>
        </div>
      </div>
    </section>
  </div>
</body>

</html>
{{end}} {{block "preambleProblem" .}}
<tr class="text-shark-200">
  <td>{{.Title}}</td>
  <td>{{.AcceptedTestCases}}/{{.NumberOfTestCases}}</td>
</tr>
{{end}} {{block "participationInfo" .}} {{if .PreambleProblems}}
<p class="text-shark-200">Entregado {{.Participation.RelativeTime}}</p>
<hr class="border-gray-500" />
<table class="table-auto">
  <tbody>
    {{range .PreambleProblems}} {{template "preambleProblem" .}} {{end}}
  </tbody>
</table>
{{else}} {{if eq .User.Role "dev"}}
<div class="flex justify-center">
  <button
    class="border rounded border-blue-400 hover:border-blue-600 hover:text-blue-600 text-blue-400 font-bold w-32 text-center py-2 px-4"
    hx-post="/participate" hx-vals="js:{quizID: '{{.Quiz.ID}}'}"
    hx-confirm="EstÃ¡s seguro de que quieres tomar esta prueba?">
    Participar
  </button>
</div>
{{end}} {{end}} {{end}}
