{{block "experienceSection" .}}
<div>
  <div class="flex items-center justify-center gap-3">
    <span class="text-white text-xl font-medium">Experiencia</span>
    <button 
      onclick="window.showAndHide('experienceForm')"
      class="flex items-center justify-center w-7 h-7 rounded-full hover:bg-green-700 transition-colors duration-200"
      type="button"
      aria-label="Añadir habilidad"
    >
      <img 
        src="/public/plus.svg" 
        alt="Añadir" 
        width="16" 
        height="16"
        class="pointer-events-none"
      />
    </button>
  </div>
  {{template "experienceForm" .}}
  {{template "experienceList" .}}
</div>
{{end}}

{{block "experienceEntry" .}}
<li id="experience_{{.ID}}" class="mb-10 ms-4">
    <div class="absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"></div>
    <time class="mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">{{.StartDate}}</time>
  <h3 class="text-lg font-semibold text-gray-900 dark:text-white">{{.Title}}</h3>
  <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">{{.Company}}</p>
  <button 
    hx-delete="/experiences/{{.ID}}" 
    hx-target="#experience_{{.ID}}"
    hx-swap="delete"
    class="flex items-center justify-center w-7 h-7 rounded-full hover:bg-red-400 transition-colors duration-200">
      <img src="/public/x.svg" alt="delete icon" width="16" height="16" style="pointer-events: none" />
  </button>
</li>
{{end}} 

{{block "experienceList" .}} 
<ol id="experience_list" class="relative border-s border-gray-200 dark:border-gray-700">                  
  {{range .Experiences}} {{template "experienceEntry" .}} {{end}}
</ol>
{{end}} 

{{block "experienceForm" .}}
<div id="experienceForm" class="hidden">
  <form 
    hx-post="/experiences" 
    hx-target="#experience_list" 
    hx-swap="beforeend"
    class="flex flex-col gap-4 bg-shark-900 rounded p-4"
  >
    <div>
      <label for="experience-title" class="text-shark-200">Título</label>
      <input id="experience-title" class="border border-gray-300 rounded p-2" type="text" name="title" required />
    </div>
    <div>
      <label for="experience-company" class="text-shark-200">Empresa</label>
      <input id="experience-company" class="border border-gray-300 rounded p-2" type="text" name="company" required />
    </div>
    <div>
      <label for="experience-start" class="text-shark-200">Fecha de inicio</label>
      <input id="experience-start" class="border border-gray-300 rounded p-2" type="month" name="start" required />
    </div>
    <div>
      <label for="experience-end" class="text-shark-200">Fecha de fin</label>
      <input id="experience-end" class="border border-gray-300 rounded p-2" type="month" name="end" required />
    </div>
    <button
      class="w-28 h-7 border rounded border-blue-400 hover:border-blue-600 hover:text-blue-600 text-blue-400"
      type="submit"
    >
      Agregar
    </button>
  </form>
</div>
{{end}}

