{{block "navBar" .}}
<nav class="flex flex-row text-white p-2 bg-shark-900">
  <div class="w-1/2 flex justify-around">
    <div class="flex items-center gap-4">
      <button
        class="inline-block p-1 hover:border-white border-b border-transparent cursor-pointer"
        hx-get="/"
        hx-target="body"
        hx-push-url="true"
        hx-boost="true"
      >
        <img src="/public/jobs.svg" alt="home icon" width="40" height="40" />
      </button>
    </div>
    <button
      class="p-1 hover:border-white border-b border-transparent cursor-pointer"
      hx-get="/companies"
      hx-target="body"
      hx-push-url="true"
      hx-boost="true"
    >
      <img src="/public/company.svg" alt="home icon" width="40" height="40" />
    </button>
  </div>
  <div class="w-1/2 flex flex-row justify-center">
    {{template "userIcon" .}}
  </div>
</nav>
{{end}} {{block "userIcon" .}}

<div class="relative group">
  <div class="rounded-sm cursor-pointer">
    <img
      class="aspect-square rounded-full mx-auto object-cover inline"
      {{if
      .ImageURL}}
      src="{{.ImageURL}}"
      {{else}}
      src="/public/user.svg"
      {{end}}
      alt="user icon"
      width="40"
      height="40"
    />
  </div>
  <div
    class="left-1/2 transform -translate-x-1/2 group-hover:block hidden absolute z-10 rounded-lg shadow-xs w-44 bg-gray-700 divide-y divide-gray-600"
  >
    {{if eq .Role "visitor"}}
    <ul class="py-2 text-sm text-gray-200">
      <li
        class="cursor-pointer"
        hx-get="/login"
        hx-target="body"
        hx-push-url="true"
        hx-boost="true"
      >
        <span class="block px-4 py-2 hover:bg-gray-600 hover:text-white"
          >Iniciar sesión</span
        >
      </li>
      <li
        class="cursor-pointer"
        hx-get="/register"
        hx-target="body"
        hx-push-url="true"
        hx-boost="true"
      >
        <span class="block px-4 py-2 hover:bg-gray-600 hover:text-white"
          >Registrarse</span
        >
      </li>
    </ul>
    {{else}}
    <div class="py-3 text-sm text-white">
      <div class="px-4 hover:bg-gray-600 cursor-pointer"
        hx-get="/profile/{{.ID}}"
        hx-target="body"
        hx-push-url="true"
        hx-boost="true"
      >
        <div class="truncate text-lg">{{.Name}}</div>
        <span class="text-sm text-white/50">Ver perfil</span>
      </div>
    </div>

    <ul class="py-2 text-sm text-gray-200">
      <li
        class="cursor-pointer"
        hx-get="/register/offers"
        hx-target="body"
        hx-push-url="true"
        hx-boost="true"
      >
        <span class="block px-4 py-2 hover:bg-gray-600 hover:text-white"
          >Publicar oferta</span
        >
      </li>
      <li
        class="cursor-pointer"
        hx-get="/offers/admin"
        hx-target="body"
        hx-push-url="true"
        hx-boost="true"
      >
        <span class="block px-4 py-2 hover:bg-gray-600 hover:text-white"
          >Mis publicaciones</span
        >
      </li>
    </ul>

    <ul class="py-2 text-sm text-gray-200">
      <li
        class="cursor-pointer"
        hx-get="/register/companies"
        hx-target="body"
        hx-push-url="true"
        hx-boost="true"
      >
        <span class="block px-4 py-2 hover:bg-gray-600 hover:text-white"
          >Registrar compañía</span
        >
      </li>
      <li
        class="cursor-pointer"
        hx-get="/companies?u={{.ID}}"
        hx-target="body"
        hx-push-url="true"
        hx-boost="true"
      >
        <span class="block px-4 py-2 hover:bg-gray-600 hover:text-white"
          >Mis compañías</span
        >
      </li>
    </ul>

    <ul class="py-2 text-sm text-gray-200">
      <li class="cursor-pointer" hx-post="/logout">
        <span class="block px-4 py-2 hover:bg-gray-600 hover:text-white">
          Cerrar sesión
        </span>
      </li>
    </ul>
    {{end}}
  </div>
</div>
{{end}}
