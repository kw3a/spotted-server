{{block "companyPage" .}}
<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{.Company.Name}}</title>
  <link href="/static/output.css" rel="stylesheet" />
  <script src="/static/htmx.min.js"></script>
  <script src="/static/head-support.js"></script>
</head>

<body class="" hx-ext="head-support">
  <section class="bg-gradient-to-b from-shark-950 to-shark-900 min-h-screen flex flex-col font-mono">
    {{template "navBar" .User}}
    <div class="flex flex-col lg:flex-row justify-center overflow-y-auto mt-8 mb-8">
      <div class="w-full lg:w-3/4 flex flex-col lg:flex-row gap-8 lg:divide-x lg:divide-shark-800">
        <div class="w-full lg:w-1/2 flex flex-col justify-center gap-6 overflow-auto p-4">
          <img {{ if eq .Company.ImageURL "" }} src="/public/company.svg" {{else}} src="{{.Company.ImageURL}}" {{end}}
            class="w-1/2 h-auto border border-gray-700 aspect-square rounded-full mx-auto object-cover transition-all duration-300 hover:border-white" id="preview"
            alt="avatar" />
          <span class="text-white text-3xl font-bold text-center tracking-wide">{{.Company.Name}}</span>
          <span class="text-shark-200 text-lg text-center italic">{{.Company.Description}}</span>
          <a href="{{.Company.Website}}" class="text-blue-400 text-lg text-center hover:underline" target="_blank">Sitio web</a>
        </div>
        <div class="w-full lg:w-1/2 flex flex-col justify-center p-4 gap-6 overflow-auto">
          <div class="flex justify-center space-x-4 mb-4">
            <div class="flex items-center space-x-2">
              <span class="w-3 h-3 bg-green-500 rounded-full"></span>
              <span class="text-white">Activo</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="w-3 h-3 bg-gray-500 rounded-full"></span>
              <span class="text-white">Archivado</span>
            </div>
          </div>
          <h2 class="text-white text-center font-bold text-3xl tracking-wide">
            Ofertas
          </h2>
          {{if not .Offers}}
          <span class="block text-center text-shark-300 text-base mt-8 mb-8 italic">Ninguna coincidencia</span>
          {{else}} 
          {{template "companyPageList" .}}
          {{end}}
        </div>
      </div>
    </div>
  </section>
</body>

</html>
{{end}}

{{block "companyPageList" .}}
{{if not .Offers}}
<p class="text-shark-300 text-center italic"> No quedan m√°s publicaciones </p>
{{else}}
{{range .Offers}} 
  <div class="relative">
    {{if eq .Status 1}}
      <div class="absolute top-2 right-2 w-3 h-3 bg-green-500 rounded-full" title="Oferta activa"></div>
    {{else}}
      <div class="absolute top-2 right-2 w-3 h-3 bg-shark-500 rounded-full" title="Oferta archivada"></div>
    {{end}}
    {{template "offerCard" .}}
  </div>
{{end}}
  <div hx-get="/companies/{{.Company.ID}}?page={{.NextPage}}" hx-trigger="revealed" hx-swap="afterend"></div>
{{end}}
{{end}}
