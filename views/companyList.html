{{block "companyList" .}}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>
    <link href="/static/output.css" rel="stylesheet" />
    <script src="/static/htmx.min.js"></script>
  </head>

  <body class="bg-shark-950">
    {{template "navBar" .User}}

    <div class="flex flex-row justify-center">
      <div class="w-1/2 flex flex-col gap-4">
        <form
          id="company-filters"
          hx-get="/companies"
          hx-target="body"
          hx-boost="true"
          hx-push-url="true"
          class="flex flex-row gap-4 items-center justify-center"
        >
          <div class="flex items-center gap-2">
            <label for="f-query" class="text-shark-200">
              <img
                src="/public/search.svg"
                width="20"
                height="20"
                alt="search"
              />
            </label>
            <input
              id="f-query"
              type="text"
              name="q"
              class="border border-gray-300 rounded"
            />
          </div>
          <div>
            <label for="f-mine" class="text-shark-200">Mis compañías</label>
            <input
              id="f-mine"
              type="checkbox"
              name="u"
              value="{{.User.ID}}"
              class="border border-gray-300 rounded"
            />
          </div>
          <button type="submit" class="bg-shark-700 text-white rounded p-2">
            Buscar
          </button>
        </form>
        <div class="w-3/4 grid grid-cols-2 gap-4 m-4">
          {{range .Companies}} {{template "companyEntry" .}} {{end}}
        </div>
      </div>
    </div>
  </body>
</html>
{{end}} {{block "companyEntry" .}}
<div
  class="flex flex-col gap-2 border border-shark-900 rounded p-8 hover:border-shark-700 cursor-pointer"
  hx-get="/companies/{{.ID}}"
  hx-trigger="click"
  hx-push-url="true"
  hx-target="body"
>
  <img
    {{if
    .ImageURL}}
    src="{{.ImageURL}}"
    {{else}}
    src="/public/user.svg"
    {{end}}
    class="w-1/2 h-auto border-2 border-white aspect-square rounded-full mx-auto object-cover"
    alt="avatar"
  />
  <div>
    <span class="text-shark-200 font-semibold text-xl">{{.Name}}</span>
  </div>
</div>
{{end}}
